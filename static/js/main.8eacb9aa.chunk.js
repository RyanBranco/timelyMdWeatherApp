(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{25:function(e,t,c){e.exports={button:"Button_button__uv1mz"}},27:function(e,t,c){e.exports={loadingSpinner:"LoadingSpinner_loadingSpinner__12iQB",spin:"LoadingSpinner_spin__l6cLO"}},32:function(e,t,c){},34:function(e,t,c){},6:function(e,t,c){e.exports={weatherResultContainer:"WeatherResult_weatherResultContainer__1P4Hy",cityName:"WeatherResult_cityName__1zBfx",largeItem:"WeatherResult_largeItem__1IPj0",forecastContainer:"WeatherResult_forecastContainer__8Ype1",forecastItem:"WeatherResult_forecastItem__zzF1k"}},60:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(12),s=c.n(a),i=(c(32),c(3)),o=c.n(i),l=c(8),d=c(5),j=(c(34),c(7)),u=c(0);function h(e){var t=e.height;return Object(u.jsx)("svg",{height:t,fill:"#ffffff",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:Object(u.jsx)("path",{d:"M 20.5 6 C 12.515556 6 6 12.515562 6 20.5 C 6 28.484438 12.515556 35 20.5 35 C 23.773158 35 26.788919 33.893018 29.220703 32.050781 L 38.585938 41.414062 A 2.0002 2.0002 0 1 0 41.414062 38.585938 L 32.050781 29.220703 C 33.893017 26.788918 35 23.773156 35 20.5 C 35 12.515562 28.484444 6 20.5 6 z M 20.5 10 C 26.322685 10 31 14.677319 31 20.5 C 31 23.295711 29.914065 25.820601 28.148438 27.697266 A 2.0002 2.0002 0 0 0 27.701172 28.144531 C 25.824103 29.912403 23.29771 31 20.5 31 C 14.677315 31 10 26.322681 10 20.5 C 10 14.677319 14.677315 10 20.5 10 z"})})}var b=c(25),p=c.n(b);function f(e){var t=e.render,c=e.onClick,n=e.disabled,r=e.text;return Object(u.jsxs)("button",{onClick:function(e){e.preventDefault(),c()},disabled:n,className:"".concat(p.a.button," br4 bs dfr aic pm t2"),children:[Object(u.jsx)("p",{className:"".concat(t&&"mrs"),children:r}),Object(u.jsx)("span",{className:"dfr ac",children:t})]})}var x=c(9),m=c.n(x);function O(e){var t=e.onChange,c=e.label,n=e.id,r=e.placeholder,a=e.hideLabel,s=e.error;return Object(u.jsxs)("span",{className:"pr",children:[Object(u.jsx)("label",{className:"".concat(a&&"".concat(m.a.hideLabel)," dfr dif ac mbs"),htmlFor:n,children:c}),Object(u.jsx)("input",{placeholder:r,className:"".concat(m.a.textInput," ").concat(s&&m.a.error," br4 ps t2 bs"),onChange:function(e){return t(n,e.target.value)},id:n,type:"text"}),s&&Object(u.jsx)("small",{className:"".concat(m.a.errorType," errorText pa"),children:s})]})}var g=c(4),v=c(13),N={loading:!1,result:null,preferredLocation:JSON.parse(localStorage.getItem("weather-preferred-location"))},_=Object(v.b)({name:"weatherResults",initialState:N,reducers:{updateLoading:function(e,t){e.loading=t.payload},updateWeatherResult:function(e,t){e.result=t.payload},updatePreferredLocation:function(e,t){e.preferredLocation=t.payload}}}),w=_.actions,y=w.updateWeatherResult,C=w.updateLoading,S=w.updatePreferredLocation,k=_.reducer,L=c(16),I=c.n(L),T="343972cc4577ee3b608daafb6844f852",z="https://api.openweathermap.org/data/2.5",M=function(){var e=Object(d.a)(o.a.mark((function e(t,c,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("".concat(z,"/weather"),{params:{q:c,units:"imperial",timestamp:t,APPID:T,lat:n,lon:r}}).then((function(e){return e.data})).catch((function(){return!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n,r){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(o.a.mark((function e(t,c,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("".concat(z,"/onecall"),{params:{units:"imperial",timestamp:t,APPID:T,lat:c,lon:n}}).then((function(e){return e.data})).catch((function(){return!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}();function W(){var e=Object(g.c)((function(e){return e})).weatherResult,t=Object(g.b)(),c=Object(n.useState)({value:""}),r=Object(j.a)(c,2),a=r[0],s=r[1],i=Object(n.useState)(""),b=Object(j.a)(i,2),p=b[0],x=b[1],m=Object(n.useState)(!1),v=Object(j.a)(m,2),N=v[0],_=v[1],w=function(e){return function(){var t=Object(d.a)(o.a.mark((function t(c){var n,r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(new Date).toISOString(),c(C(!0)),t.next=4,M(n,e);case 4:if(!(r=t.sent)){t.next=12;break}return t.next=8,R(n,r.coord.lat,r.coord.lon);case 8:a=t.sent,c(y(Object(l.a)(Object(l.a)({},a),{},{cityName:r.name,country:r.sys.country}))),t.next=14;break;case 12:c(y(null)),x("Could not find city");case 14:c(C(!1));case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};return Object(n.useEffect)((function(){_(e.preferredLocation)}),[e]),Object(u.jsxs)("div",{children:[N?Object(u.jsx)("div",{className:"mbl",children:Object(u.jsx)(f,{text:"Get weather in ".concat(N.cityName),onClick:function(){return t(w(N.cityName))}})}):Object(u.jsx)("p",{className:"mbl",children:"No preferred location"}),Object(u.jsx)("form",{className:"dfc aic mbel",children:Object(u.jsxs)("div",{className:"dfr jcc aie",children:[Object(u.jsx)("div",{className:"mrs",children:Object(u.jsx)(O,{hideLabel:!0,label:"City Search",placeholder:"San Diego",id:"search",error:p,onChange:function(e,t){x(!1),s(t)}})}),Object(u.jsx)(f,{disabled:0===a.length,onClick:function(){return t(w(a))},render:Object(u.jsx)(h,{height:23}),text:"Search"})]})})]})}function D(){return Object(u.jsxs)("header",{className:"mbl",children:[Object(u.jsx)("h1",{className:"mn",children:"What's the Weather?"}),Object(u.jsx)("h2",{className:"mn",children:"Search 200,000+ Cities"})]})}var P=c(27),B=c.n(P);function F(e){var t=e.height;return Object(u.jsxs)("svg",{height:t,width:t,className:"".concat(B.a.loadingSpinner),viewBox:"0 0 600 600","aria-labelledby":"spinner-id-0__title",fill:"#979797",children:[Object(u.jsxs)("defs",{children:[Object(u.jsxs)("linearGradient",{id:"spinner-id-0__gradient1",gradientTransform:"rotate(90)",children:[Object(u.jsx)("stop",{offset:"0%",className:"spin__stop_end"}),Object(u.jsx)("stop",{offset:"90%",className:"spin__stop_mid"})]}),Object(u.jsxs)("linearGradient",{id:"spinner-id-0__gradient2",gradientTransform:"rotate(90)",children:[Object(u.jsx)("stop",{offset:"0%",className:"spin__stop_start"}),Object(u.jsx)("stop",{offset:"90%",className:"spin__stop_mid"})]}),Object(u.jsx)("pattern",{id:"spinner-id-0__pattern",x:"0",y:"0",width:"600",height:"600",patternUnits:"userSpaceOnUse",children:Object(u.jsxs)("g",{transform:"rotate(0, 300, 300)",children:[Object(u.jsx)("rect",{shapeRendering:"crispEdges",x:"0",y:"0",width:"300",height:"600",fill:"#979797"}),Object(u.jsx)("rect",{shapeRendering:"crispEdges",x:"300",y:"0",width:"300",height:"600",fill:"#979797"})]})})]}),Object(u.jsx)("path",{stroke:"url(#spinner-id-0__pattern)",fill:"transparent",strokeWidth:"30",d:"M 364 58 A 250 250 0 1 1 235 58"})]})}function A(e){var t=e.height;return Object(u.jsx)("svg",{height:t,width:t,xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 172 172",children:Object(u.jsxs)("g",{fill:"none",fillRule:"nonzero",stroke:"none",strokeWidth:"1",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:"10",strokeDasharray:"",strokeDashoffset:"0",fontFamily:"none",fontWeight:"none",fontSize:"none",textAnchor:"none",children:[Object(u.jsx)("path",{d:"M0,172v-172h172v172z",fill:"none"}),Object(u.jsx)("g",{fill:"#111111",children:Object(u.jsx)("path",{d:"M68.8,17.2c-6.26689,0 -11.46667,5.19977 -11.46667,11.46667v45.41875c-10.178,8.40938 -17.2,20.64049 -17.2,34.84792c0,25.26358 20.60309,45.86667 45.86667,45.86667c25.26358,0 45.86667,-20.60309 45.86667,-45.86667c0,-14.20742 -7.022,-26.43853 -17.2,-34.84792v-5.28542h5.73333c2.06765,0.02924 3.99087,-1.05709 5.03322,-2.843c1.04236,-1.78592 1.04236,-3.99474 0,-5.78066c-1.04236,-1.78592 -2.96558,-2.87225 -5.03322,-2.843h-5.73333v-11.46667h5.73333c2.06765,0.02924 3.99087,-1.05709 5.03322,-2.843c1.04236,-1.78592 1.04236,-3.99474 0,-5.78066c-1.04236,-1.78592 -2.96558,-2.87225 -5.03322,-2.843h-5.73333v-5.73333c0,-6.26689 -5.19977,-11.46667 -11.46667,-11.46667zM68.8,28.66667h34.4v10.50365c-0.10233,0.61915 -0.10233,1.2509 0,1.87005v21.06328c-0.10233,0.61915 -0.10233,1.2509 0,1.87005v15.0388l2.45234,1.71328c8.91473,6.22358 14.74766,16.48319 14.74766,28.20755c0,19.06656 -15.33344,34.4 -34.4,34.4c-19.06656,0 -34.4,-15.33344 -34.4,-34.4c0,-11.72436 5.83293,-21.98397 14.74766,-28.20755l2.45234,-1.71328zM80.26667,45.86667v40.88359c-10.11755,2.61234 -17.18996,11.73372 -17.2,22.18308c0,12.66573 10.2676,22.93333 22.93333,22.93333c12.66573,0 22.93333,-10.2676 22.93333,-22.93333c-0.01514,-10.44519 -7.08648,-19.56059 -17.2,-22.17188v-40.89479z"})})]})})}function E(e){var t=e.height;return Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:t,height:t,viewBox:"0 0 172 172",children:Object(u.jsxs)("g",{fill:"none",fillRule:"nonzero",stroke:"none",strokeWidth:"1",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:"10",strokeDasharray:"",strokeDashoffset:"0",fontFamily:"none",fontWeight:"none",fontSize:"none",textAnchor:"none",children:[Object(u.jsx)("path",{d:"M0,172v-172h172v172z",fill:"none"}),Object(u.jsx)("g",{fill:"#111111",children:Object(u.jsx)("path",{d:"M86,17.2c-37.93747,0 -68.8,30.86253 -68.8,68.8c0,37.93747 30.86253,68.8 68.8,68.8c6.32387,0 12.42208,-0.92539 18.24141,-2.53073c-0.65933,-2.87813 -1.04141,-5.86287 -1.04141,-8.93594c0,-0.6536 0.00878,-1.5523 0.11198,-2.6875c-5.4696,1.73147 -11.28051,2.6875 -17.31198,2.6875c-31.6136,0 -57.33333,-25.71973 -57.33333,-57.33333c0,-31.6136 25.71973,-57.33333 57.33333,-57.33333c31.6136,0 57.33333,25.71973 57.33333,57.33333v0.03359c4.08787,0 7.97363,1.36946 11.2875,3.61693c0.06307,-1.21547 0.17917,-2.41786 0.17917,-3.65052c0,-37.93747 -30.86253,-68.8 -68.8,-68.8zM86,40.13333c-6.46147,0 -12.61235,1.3597 -18.19661,3.7849l8.96953,8.96953c2.94693,-0.81987 6.02788,-1.28776 9.22708,-1.28776c18.9716,0 34.4,15.4284 34.4,34.4c0,0.05733 -0.0112,0.11637 -0.0112,0.16797h11.46667c0,-0.0516 0.0112,-0.11064 0.0112,-0.16797c0,-25.28973 -20.57693,-45.86667 -45.86667,-45.86667zM54.41068,48.67734c-2.18367,0.00025 -4.17764,1.24082 -5.14279,3.19963c-0.96514,1.95881 -0.73389,4.29578 0.59643,6.02745c-6.06833,7.76915 -9.73099,17.49552 -9.73099,28.09558c0,0.05733 0.0112,0.11637 0.0112,0.16797h11.46667c0,-0.0516 -0.0112,-0.11064 -0.0112,-0.16797c0,-7.41799 2.39958,-14.2587 6.41641,-19.8763l16.92005,16.92005c-0.26255,0.96365 -0.39807,1.95748 -0.40312,2.95625c0,6.33287 5.1338,11.46667 11.46667,11.46667c6.33287,0 11.46667,-5.1338 11.46667,-11.46667c0,-6.33287 -5.1338,-11.46667 -11.46667,-11.46667c-1.00202,0.00042 -1.99967,0.13219 -2.96745,0.39192l-24.51224,-24.51224c-1.07942,-1.10959 -2.56162,-1.73559 -4.10963,-1.73568zM143.33333,97.50026c-2.6703,0 -5.34508,1.20866 -7.09948,3.62813c-8.48533,11.71893 -21.56719,31.51228 -21.56719,42.20495c0,15.82973 12.83693,28.66667 28.66667,28.66667c15.82973,0 28.66667,-12.83693 28.66667,-28.66667c0,-10.69267 -13.08732,-30.48601 -21.57839,-42.20495c-1.7544,-2.41947 -4.41798,-3.62813 -7.08828,-3.62813z"})})]})})}var J=c(6),G=c.n(J);function H(){var e=Object(g.c)((function(e){return e})).weatherResult,t=Object(g.b)(),c=Object(n.useState)(!1),r=Object(j.a)(c,2),a=r[0],s=r[1];return Object(n.useEffect)((function(){var t=JSON.parse(localStorage.getItem("weather-preferred-location"));t&&e.result&&t.cityName===e.result.cityName?s(!0):s(!1)}),[e.result]),Object(u.jsx)("div",{className:"".concat(G.a.weatherResultContainer," dfc aic jcc br4 pl bs"),children:e.loading?Object(u.jsx)(F,{height:40}):null!==e.result?Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"".concat(G.a.cityName," dfc mn mbl aic"),children:[e.result.cityName," (",e.result.country,")",Object(u.jsx)("sup",{className:"mbl greyText",children:Object(u.jsxs)("small",{children:[e.result.lat,","," ",e.result.lon]})}),a?Object(u.jsx)("p",{children:"This is your preferred location \ud83d\udc4d"}):Object(u.jsx)(f,{onClick:function(){var c={lat:e.result.lat,lon:e.result.lon,cityName:e.result.cityName};localStorage.setItem("weather-preferred-location",JSON.stringify(c)),t(S(c)),s(!0)},text:"Set as preferred location"})]}),Object(u.jsxs)("div",{className:"dfr jca mbel",children:[Object(u.jsxs)("div",{className:"dfc",children:[Object(u.jsxs)("div",{className:"dfr aic",children:[Object(u.jsx)("div",{className:"mrm",children:Object(u.jsx)(A,{height:45})}),Object(u.jsxs)("p",{className:"".concat(G.a.largeItem),children:[Math.round(e.result.current.temp),"\xb0"]})]}),Object(u.jsx)("p",{className:"greyText",children:"Current Temp."})]}),Object(u.jsxs)("div",{className:"dfc",children:[Object(u.jsxs)("div",{className:"dfr aic",children:[Object(u.jsx)("div",{className:"mrm",children:Object(u.jsx)(E,{height:45})}),Object(u.jsxs)("p",{className:"".concat(G.a.largeItem),children:[e.result.current.humidity,"%"]})]}),Object(u.jsx)("p",{className:"greyText",children:"Current Humi."})]})]}),Object(u.jsx)(i,{})]}):Object(u.jsx)("h2",{className:"greyText",children:"Search a location to see what the weather is!"})});function i(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:"mbs",children:"Forecast"}),Object(u.jsx)("div",{className:"".concat(G.a.forecastContainer),children:e.result.daily.map((function(e,t){return Object(u.jsxs)("div",{className:"".concat(G.a.forecastItem," bs br4 ps"),children:[Object(u.jsxs)("h3",{className:"mn mbm dfr aic",children:[0===t?"Today":new Date(1e3*e.dt).toLocaleString("en-us",{weekday:"short"}),Object(u.jsx)(A,{height:20})]}),Object(u.jsx)("div",{className:"dfr jcc",children:Object(u.jsxs)("div",{className:"dfr",children:[Object(u.jsxs)("p",{className:"mrl",children:[Object(u.jsx)("small",{className:"greyText mrs",children:"H:"}),Math.round(e.temp.max),"\xb0"]}),Object(u.jsxs)("p",{children:[Object(u.jsx)("small",{className:"greyText mrs",children:"L:"}),Math.round(e.temp.min),"\xb0"]})]})})]},e.dt)}))})]})}}var Q=function(){var e=Object(g.b)();return Object(n.useEffect)((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){var c,n;e((c=t.coords.latitude,n=t.coords.longitude,function(){var e=Object(d.a)(o.a.mark((function e(t){var r,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(C(!0)),r=(new Date).toISOString(),e.next=4,R(r,c,n);case 4:return a=e.sent,e.next=7,M(r,null,c,n);case 7:s=e.sent,t(y(Object(l.a)(Object(l.a)({},a),{},{cityName:s.name,country:s.sys.country}))),t(C(!1));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}))}),[e]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(D,{}),Object(u.jsx)(W,{}),Object(u.jsx)(H,{})]})},U=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,61)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))},q=Object(v.a)({reducer:{weatherResult:k}});s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(g.a,{store:q,children:Object(u.jsx)(Q,{})})}),document.getElementById("root")),U()},9:function(e,t,c){e.exports={textInput:"TextInput_textInput__1_Qw_",hideLabel:"TextInput_hideLabel__3rexw",error:"TextInput_error__16nsV",errorType:"TextInput_errorType__2Xjxw"}}},[[60,1,2]]]);
//# sourceMappingURL=main.8eacb9aa.chunk.js.map